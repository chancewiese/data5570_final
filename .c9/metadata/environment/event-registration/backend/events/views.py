{"filter":false,"title":"views.py","tooltip":"/event-registration/backend/events/views.py","undoManager":{"mark":9,"position":9,"stack":[[{"start":{"row":8,"column":39},"end":{"row":8,"column":40},"action":"insert","lines":[","],"id":2}],[{"start":{"row":8,"column":40},"end":{"row":8,"column":41},"action":"insert","lines":[" "],"id":3}],[{"start":{"row":8,"column":41},"end":{"row":8,"column":56},"action":"insert","lines":["UserPreferences"],"id":4}],[{"start":{"row":9,"column":80},"end":{"row":9,"column":81},"action":"insert","lines":[","],"id":5}],[{"start":{"row":9,"column":81},"end":{"row":9,"column":82},"action":"insert","lines":[" "],"id":6}],[{"start":{"row":9,"column":82},"end":{"row":9,"column":107},"action":"insert","lines":["UserPreferencesSerializer"],"id":7}],[{"start":{"row":91,"column":13},"end":{"row":92,"column":0},"action":"insert","lines":["",""],"id":8},{"start":{"row":92,"column":0},"end":{"row":92,"column":12},"action":"insert","lines":["            "]},{"start":{"row":92,"column":12},"end":{"row":93,"column":0},"action":"insert","lines":["",""]},{"start":{"row":93,"column":0},"end":{"row":93,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":93,"column":8},"end":{"row":93,"column":12},"action":"remove","lines":["    "],"id":9},{"start":{"row":93,"column":4},"end":{"row":93,"column":8},"action":"remove","lines":["    "]}],[{"start":{"row":93,"column":4},"end":{"row":107,"column":82},"action":"insert","lines":["@action(detail=True, methods=['GET', 'PATCH'])","    def preferences(self, request, pk=None):","        user = self.get_object()","        preferences, created = UserPreferences.objects.get_or_create(user=user)","","        if request.method == 'GET':","            serializer = UserPreferencesSerializer(preferences)","            return Response(serializer.data)","","        elif request.method == 'PATCH':","            serializer = UserPreferencesSerializer(preferences, data=request.data, partial=True)","            if serializer.is_valid():","                serializer.save()","                return Response(serializer.data)","            return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)"],"id":10}],[{"start":{"row":92,"column":8},"end":{"row":92,"column":12},"action":"remove","lines":["    "],"id":11},{"start":{"row":92,"column":4},"end":{"row":92,"column":8},"action":"remove","lines":["    "]}]]},"ace":{"folds":[],"scrolltop":1150.8000000000004,"scrollleft":0,"selection":{"start":{"row":92,"column":4},"end":{"row":92,"column":4},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":70,"state":"start","mode":"ace/mode/python"}},"timestamp":1733278832153,"hash":"7d3935f0cf2c77c4ae3b37abc9b1d8a8a48121d4"}